<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/hardware-icons.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">
<link rel="import" href="../../bower_components/paper-ripple/paper-ripple.html">


<dom-module id="films-material">
  <template>
    <style is="custom-style">
        #cards {
          text-align: center;
          -webkit-touch-callout: none;
          -webkit-user-select: none;
          -khtml-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
          cursor: default;
        }
        paper-card {
          width: 200px;
          margin: 16px;
        }
        .inherit {
          color: inherit;
          background-color: inherit;
        }
        @media screen and (max-width: 729px) {
          paper-card {
            margin: 16px 0;
          }
        }
  	  .title-text {
  	  	background-color: rgba(200, 200, 200, 0.3) !important;
  	  	color: var(--paper-pink-400) !important;
  	  	border-radius: 0 20px 0 0 !important;
  	  }
  	  .card-content {
  		overflow: hidden;
  		white-space: nowrap;
  		text-overflow: ellipsis;
  	  }
  	  iron-image {
  	  	width: 100%;
  	  }
      a:link, a:visited {
        text-decoration: none;
        cursor: pointer;
      }
    </style>

    <iron-ajax auto url="getFilms.php" handle-as="json" last-response="{{data}}"></iron-ajax>
    <div id="cards">
    <template id="cardstemplate" is="dom-repeat" items="{{data}}">
        <a href="{{item.path}}" class="inherit">
          <paper-card class="film" image="{{getImage(item.image)}}"> <!--" === '' ? 'no_poster.jpg' : item.image}}">-->
            <div class="card-content inherit">{{getTitle(item.title, item.filename)}}</div> <!-- === '' ? item.filename : item.title}}</div>-->
            <paper-ripple></paper-ripple>
          </paper-card>
        </a>
    </template>
    </div>
  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'films-material',

        getImage: function(img) {
          return (img === '') ? 'https://downloads.serben.tk/Film/no_poster.jpg' : img;
        },

        getTitle: function(title, filename) {
          return (title === '') ? filename : title;
        }
      });
    })();
  </script>
</dom-module>
